
/*********************************************************************************************************
*                                               BRTOS
*                                Brazilian Real-Time Operating System
*                            Acronymous of Basic Real-Time Operating System
*
*                              
*                                  Open Source RTOS under MIT License
*
*
*
*                                      OS Queue functions Header
*
*
*   Author:   Gustavo Weber Denardin
*   Revision: 1.0
*   Date:     20/03/2009
*
*********************************************************************************************************/

#ifndef OS_QUEUE_H
#define OS_QUEUE_H

#include "OS_types.h"
#include "event.h"





////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
/////      Queue Defines                               /////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////

// Enable Queue Structures
#define OS_Q_EN              1
#define OS_MAX_Q             2

#define READ_BUFFER_OK       0
#define BUFFER_UNDERRUN      1
#define CLEAN_BUFFER_OK      2

////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////





////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
/////      Queue Structure                             /////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////

typedef struct os_queue
{
  INT8U   *OSQPtr;
  INT8U   *OSQStart;
  INT8U   *OSQEnd;
  INT8U   *OSQIn;
  INT8U   *OSQOut;
  INT16U  OSQSize;
  INT16U  OSQEntries;
} OS_QUEUE;

////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
/////      Queue Extern Declarations                   /////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////

INT8U OSWQueue(OS_QUEUE *cqueue,INT8U data);
INT8U OSRQueue(OS_QUEUE *cqueue);
INT8U OSCleanQueue(OS_QUEUE *cqueue);
INT8U OSQueuePend (BRTOS_Queue *pont_event, OS_QUEUE *cqueue, INT16U timeout);

////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////

#endif
